@model IEnumerable<Product>



@foreach (var p in Model)
{
	<div class="product-wrapper">
		<div class="product-container">
			<img src="~/media/products/@p.ThumbnailImage" class="product-top">
			<div class="product-bottom">
				<div class="product-left">
					<div class="product-details">
						<h1 class="product-title">@p.Name</h1>
						<p>@p.Price.ToString("C2")</p>
					</div>
					<div data-id="@p.Id" class="product-buy"><i class="material-icons">add_shopping_cart</i></div>
				</div>
				<div class="product-right">
					<div class="product-done"><i class="material-icons">done</i></div>
					<div class="product-details">
						<h1 class="product-title">@p.Name</h1>
						<p>Added to your cart</p>
					</div>
					<div data-id="@p.Id" class="product-remove"><i class="material-icons">clear</i></div>
				</div>
			</div>
		</div>
		<div class="inside">
			<div class="product-icon"><i class="material-icons">info_outline</i></div>
			<div class="product-contents">
				<table>
					<tr>
						<th>Description</th>
						<th></th>
					</tr>
					<tr>
						<td>@p.Description</td>
						<td>4000mm</td>
					</tr>
					<tr>
						<th>Something</th>
						<th>Something</th>
					</tr>
					<tr>
						<td>200mm</td>
						<td>200mm</td>
					</tr>
					<tr>
						<th>Something</th>
						<th>Something</th>
					</tr>
					<tr>
						<td>200mm</td>
						<td>200mm</td>
					</tr>
					<tr>
						<th>Something</th>
						<th>Something</th>
					</tr>
					<tr>
						<td>200mm</td>
						<td>200mm</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
}


@if(ViewBag.Cart != null)
{
	<script>
		var cartItems = @Html.Raw(Json.Serialize(ViewBag.Cart));


		cartItems.forEach(function(item) {

			var elements = document.querySelectorAll('.product-buy');


			elements.forEach(function(element) {
			  var dataId = element.getAttribute('data-id');

				if (dataId == item.productId) {
					element.closest('.product-bottom').classList.add("product-clicked");
			  }
			});

		})
	</script>
}

